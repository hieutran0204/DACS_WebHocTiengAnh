extends ../../layouts/default

block content
  .container
    h1.text-center.mb-4 Quản lý người dùng
    .card
      .card-body
        .table-responsive
          table.table.table-hover
            thead
              tr
                th Username
                th Email
                th Vai trò
                th Ngày tạo
                th Hành động
            tbody
              if users && users.length > 0
                each user in users
                  tr
                    td #{user.username}
                    td #{user.email}
                    td #{user.role === 'admin' ? 'Quản trị' : 'Người dùng'}
                    td #{new Date(user.createdAt).toLocaleDateString('vi-VN')}
                    td
                      a.btn.btn-sm.btn-warning.me-2(href=`/admin/users/edit/${user._id}`) Sửa
                      a.btn.btn-sm.btn-danger(href=`/admin/users/delete/${user._id}`, onclick="return confirm('Bạn có chắc muốn xóa người dùng này?')") Xóa
              else
                tr
                  td(colspan="5").text-center.text-muted Không có người dùng nào.

    // Nút thêm người dùng
    div(style="display: flex; gap: 8px;")
        a.btn.btn-success.mt-4(href='/admin/users/create') Thêm người dùng mới
        a.btn.btn-secondary.mt-4(href='/admin/dashboard') Quay lại
    
