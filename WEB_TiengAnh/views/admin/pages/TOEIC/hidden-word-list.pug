extends ../../layouts/default
block content
  .container-fluid
    h1.mb-4.text-center Danh sách Hidden Word

    if success.length > 0
      each msg in success
        .alert.alert-success= msg

    if error.length > 0
      each msg in error
        .alert.alert-danger= msg

    .card.w-75.mx-auto
      .card-body
        table#hiddenWordTable.table.table-striped
          thead
            tr
              th STT
              th Từ khóa
              th Hình ảnh
              th Ngày tạo
              th Thao tác
          tbody
            each word, index in hiddenWords
              tr
                td= index + 1
                td= word.word
                td
                  img(src=`/admin/img/uploads_reading_TOEIC/${word.image}`, width="100")
                td= word.createdAt ? word.createdAt.toLocaleDateString() : 'N/A'
                td.d-flex.gap-2
                  a.btn.btn-sm.btn-primary(href=`/admin/hidden-word/edit/${word._id}`) Chỉnh sửa
                  form(method="POST" action=`/admin/hidden-word/${word._id}?_method=DELETE`)
                    button.btn.btn-sm.btn-danger(type="submit" onclick="return confirm('Bạn có chắc muốn xóa?')") Xóa

    // Các nút nằm dưới bảng, cách bảng một đoạn
    .w-75.mx-auto.mt-3
      .d-flex.gap-2
        a.btn.btn-primary(href="/admin/hidden-word/create") Tạo mới
        a.btn.btn-secondary(href='/admin/dashboard') Quay lại

  script.
    $(document).ready(function() {
      $('#hiddenWordTable').DataTable({
        paging: true,
        searching: true,
        ordering: true,
        lengthMenu: [5, 10, 25, 50],
        pageLength: 10,
        language: {
          url: '//cdn.datatables.net/plug-ins/1.13.6/i18n/vi.json'
        }
      });
    });
