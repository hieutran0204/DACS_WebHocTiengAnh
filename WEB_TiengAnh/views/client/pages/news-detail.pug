//- news-details.pug
article.news-detail(style="max-width: 800px; margin: 0 auto; padding: 20px; font-family: Arial, sans-serif;")
  h1.news-title(style="text-align: center; color: #2c3e50; margin-bottom: 20px;")= news.title
  
  div(style="display: flex; justify-content: center; margin: 20px 0;")
    img.news-image(
      src=news.image, 
      width="400", 
      alt=news.title,
      style="border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);"
    )
  
  .news-content(
    style="line-height: 1.6; font-size: 16px; text-align: justify; margin: 20px 0; padding: 0 10px;"
  )= news.content
  
  .news-meta(style="text-align: center; color: #7f8c8d; margin: 30px 0;")
    p.news-author(style="margin: 5px 0;") Viết bởi: 
      span(style="font-weight: bold;")= news.author
    p.news-date(style="margin: 5px 0;") vào #{news.createdAt.toLocaleDateString()}
  
  form#quiz.news-quiz(
    style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 30px auto; max-width: 600px;"
  )
    h3.quiz-question(
      style="text-align: center; color: #2c3e50; margin-bottom: 20px;"
    )= news.question
    
    .quiz-options(style="display: flex; flex-direction: column; gap: 10px;")
      each option, i in news.options
        .quiz-option(
          style="background: white; padding: 12px; border-radius: 4px; border: 1px solid #ddd; cursor: pointer; transition: all 0.3s;"
        )
          input(
            type="radio", 
            name="answer", 
            value=i, 
            id=`option-${i}`, 
            required,
            style="margin-right: 10px; cursor: pointer;"
          )
          label(
            for=`option-${i}`,
            style="cursor: pointer;"
          )= option
    
    div(style="text-align: center; margin-top: 20px;")
      button.quiz-submit(
        type="submit",
        style="padding: 10px 20px; background: #3498db; color: white; border: none; border-radius: 4px; cursor: pointer; transition: background 0.3s;"
        onmouseover="this.style.background='#2980b9'"
        onmouseout="this.style.background='#3498db'"
      ) Trả lời

  script.
    const correct = #{news.correctAnswer};
    document.getElementById('quiz').addEventListener('submit', function(e) {
      e.preventDefault();
      const selected = document.querySelector('input[name="answer"]:checked');
      if (!selected) return;
      
      // Reset all options first
      document.querySelectorAll('.quiz-option').forEach(opt => {
        opt.style.color = '';
        opt.style.fontWeight = '';
        opt.style.background = '';
      });
      
      const optionElement = selected.closest('.quiz-option');
      if (parseInt(selected.value) === correct) {
        optionElement.style.color = '#27ae60';
        optionElement.style.fontWeight = 'bold';
        optionElement.style.background = '#e8f5e9';
      } else {
        optionElement.style.color = '#e74c3c';
        optionElement.style.background = '#fdedec';
      }
    });