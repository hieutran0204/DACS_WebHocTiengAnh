
extends ../layouts/default

block content
  link(rel="stylesheet", href="/client/css/home.css")

  //- HERO SLIDER
  section.hero
    .slider
      .slide.active
        .overlay
        .slide-content
          h2 Nâng Cao Trình Độ Tiếng Anh
          p Hệ thống học tập thông minh giúp bạn chinh phục IELTS, TOEIC dễ dàng
        img(src="/client/images/slide1.png", alt="TSE - TOEIC")
      .slide
        .overlay
        .slide-content
          h2 Luyện Thi IELTS Hiệu Quả
          p Kho đề thi mô phỏng thực tế với đánh giá chi tiết từ chuyên gia
        img(src="/client/images/slide2.jpg", alt="LEARN ENGLISH")
      .slide
        .overlay
        .slide-content
          h2 Cộng Đồng Học Tập
          p Kết nối với hàng ngàn học viên và giáo viên giàu kinh nghiệm
        img(src="/client/images/slide3.jpg", alt="NGUS")

  //- INTRO SECTION
  section.intro-section
    .container
      .intro-content
        h1.intro-title TEIC
        h2.intro-subtitle Test of English for International Communication
        p.intro-text Chúng tôi cung cấp giải pháp học tiếng Anh toàn diện từ cơ bản đến nâng cao, giúp bạn chinh phục chứng chỉ quốc tế TOEIC một cách hiệu quả nhất. Với hệ thống bài học thông minh và đội ngũ giảng viên giàu kinh nghiệm.
        a.cta-button(href="/auth/register") Đăng Ký Học Ngay

  //- FEATURES SECTION
  section.features-section
    .container
      h2.section-title Nâng Trình Tiếng Anh Cùng TEIC
      .features-grid
        .feature-card
          .feature-icon 📝
          h3.feature-title IELTS Online Test
          p.feature-text Đề thi IELTS Online Test với trải nghiệm thi thật và kho đề khủng kèm giải thích chi tiết từ chuyên gia.
          a.feature-button(href="/toeic") Bắt đầu làm bài
        .feature-card
          .feature-icon 🎧
          h3.feature-title Luyện Listening & Reading
          p.feature-text Kho đề luyện tập IELTS Listening & Reading với phân loại theo dạng câu hỏi và chủ đề đa dạng.
          a.feature-button(href="/toeic") Luyện tập ngay
        .feature-card
          .feature-icon ✍️
          h3.feature-title Bài Mẫu Writing & Speaking
          p.feature-text Tuyển tập bài mẫu chất lượng cao với phân tích chi tiết từ giám khảo IELTS band 8.0+.
          a.feature-button(href="/toeic") Xem bài mẫu

  //- STATS SECTION
  section.stats-section
    .container
      h2.section-title(style="color: white") TEIC Trong Những Con Số
      .stats-grid
        .stat-item
          .stat-number 10,000+
          .stat-text Học Viên Đang Theo Học
        .stat-item
          .stat-number 98%
          .stat-text Hài Lòng Với Chất Lượng
        .stat-item
          .stat-number 500+
          .stat-text Đề Thi Chất Lượng
        .stat-item
          .stat-number 450+
          .stat-text Điểm TOEIC Trung Bình

  //- NEWS SECTION - Đã thay đổi theo news-list.pug
    //- NEWS SECTION
  section.news-section
    .container
      h2.section-title Tin Tức & Sự Kiện
      .news-grid(style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 30px;")
        //- Chỉ hiển thị 3 tin mới nhất (sắp xếp theo ngày tạo giảm dần)
        each news, index in newsList.slice(0, 3)
          article.news-item(
            style="background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 4px 8px rgba(0,0,0,0.1); transition: transform 0.3s;"
            onmouseover="this.style.transform='translateY(-5px)'"
            onmouseout="this.style.transform=''"
          )
            a.news-link(
              href=`/news/${news._id}`,
              style="text-decoration: none; color: inherit; display: block;"
            )
              .news-image-container(style="height: 200px; overflow: hidden;")
                img.news-item-image(
                  src=news.image, 
                  alt=news.title,
                  style="width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s;"
                  onmouseover="this.style.transform='scale(1.05)'"
                  onmouseout="this.style.transform='scale(1)'"
                )
              
              .news-content(style="padding: 20px;")
                h3.news-item-title(
                  style="margin: 0 0 10px 0; font-size: 18px; color: #2c3e50; min-height: 54px;"
                )= news.title
                
                p.news-item-excerpt(
                  style="color: #7f8c8d; margin: 0 0 15px 0; line-height: 1.5;"
                )= news.content.substring(0, 100) + '...'
                
                .news-meta(style="display: flex; justify-content: space-between; color: #95a5a6; font-size: 14px;")
                  span.news-author= news.author
                  span.news-date= news.createdAt.toLocaleDateString()
    
    //- Nút xem thêm tin tức (nếu cần)
    .view-more-container(style="text-align: center; margin-top: 30px;")
      a.view-more-button(
        href="/news", 
        style="display: inline-block; padding: 10px 20px; background-color: #3498db; color: white; text-decoration: none; border-radius: 4px;"
      ) Xem thêm tin tức

  //- TESTIMONIALS SECTION
  section.testimonials-section
    .container
      h2.section-title Cảm Nhận Học Viên
      .testimonial-card
        p.testimonial-text "TEIC đã giúp tôi nâng điểm IELTS từ 400 lên 650 chỉ sau 3 tháng. Phương pháp học thông minh và hệ thống bài tập phong phú khiến việc học trở nên dễ dàng hơn bao giờ hết."
        .testimonial-author - Nguyễn Văn A, TOEIC 650

  //- CTA SECTION
  section.cta-section
    .container
      h2.cta-title Sẵn Sàng Chinh Phục Tiếng Anh?
      p.cta-text Đăng ký ngay để trải nghiệm hệ thống học tập thông minh và nhận ưu đãi lên đến 40% khóa học.
      a.cta-button(href="/auth/register", style="background: #ff9e00; color: white") Đăng Ký Ngay

  script.
    document.addEventListener('DOMContentLoaded', function() {
      // Hero Slider
      const slides = document.querySelectorAll('.slide');
      let currentSlide = 0;
      const slideInterval = setInterval(nextSlide, 5000);

      function nextSlide() {
        slides[currentSlide].classList.remove('active');
        currentSlide = (currentSlide + 1) % slides.length;
        slides[currentSlide].classList.add('active');
      }

      // Pause slider on hover
      const hero = document.querySelector('.hero');
      hero.addEventListener('mouseenter', () => clearInterval(slideInterval));
      hero.addEventListener('mouseleave', () => {
        slideInterval = setInterval(nextSlide, 5000);
      });

      // Smooth scroll for anchor links
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
          e.preventDefault();
          document.querySelector(this.getAttribute('href')).scrollIntoView({
            behavior: 'smooth'
          });
        });
      });

      // Animation on scroll
      const animateOnScroll = function() {
        const elements = document.querySelectorAll('.feature-card, .news-card, .stat-item');
        elements.forEach(element => {
          const elementPosition = element.getBoundingClientRect().top;
          const windowHeight = window.innerHeight;
          
          if (elementPosition < windowHeight - 100) {
            element.style.opacity = '1';
            element.style.transform = 'translateY(0)';
          }
        });
      };

      // Initialize elements with hidden state
      document.querySelectorAll('.feature-card, .news-card, .stat-item').forEach(element => {
        element.style.opacity = '0';
        element.style.transform = 'translateY(30px)';
        element.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
      });

      window.addEventListener('load', animateOnScroll);
      window.addEventListener('scroll', animateOnScroll);
    });


